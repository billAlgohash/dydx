"use strict";
/**
 * Unit tests for helpers/crypto.
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const expect_1 = __importDefault(require("expect"));
// Module under test.
const crypto_1 = require("../../src/helpers/crypto");
const keys_1 = require("../../src/keys");
const util_1 = require("../util");
// Mock params.
const mockKeyPair = {
    publicKey: '3b865a18323b8d147a12c556bfb1d502516c325b1477a23ba6c77af31f020fd',
    publicKeyYCoordinate: '211496e5e8ccf71930aebbfb7e815807acbfd0021f17f8b3944a3ed5f06c27',
    privateKey: '58c7d5a90b1776bde86ebac077e053ed85b0f7164f53b080304a531947f46e3',
};
const mockPaddedKeyPair = {
    publicKey: `0${mockKeyPair.publicKey}`,
    publicKeyYCoordinate: `00${mockKeyPair.publicKeyYCoordinate}`,
    privateKey: `0${mockKeyPair.privateKey}`,
};
const mockKeyPairEvenY = {
    publicKey: '5c749cd4c44bdc730bc90af9bfbdede9deb2c1c96c05806ce1bc1cb4fed64f7',
    privateKey: '65b7bb244e019b45a521ef990fb8a002f76695d1fc6c1e31911680f2ed78b84',
};
const mockPaddedKeyPairEvenY = {
    publicKey: `0${mockKeyPairEvenY.publicKey}`,
    privateKey: `0${mockKeyPairEvenY.privateKey}`,
};
const mockSignature = ('05db91adf6745822767cb846f6a3a79a52c1f3434ac0e9196a36b4084753e972' +
    '0469298bdf292a304af14f5043f0902b30ba927488ccc221fe8925740c40edbf');
describe('crypto helpers', () => {
    describe('asEcKeyPair()', () => {
        it('accepts an unpadded key pair as argument', () => {
            const ecKeyPair = (0, crypto_1.asEcKeyPair)(mockKeyPair);
            (0, expect_1.default)((0, crypto_1.asSimpleKeyPair)(ecKeyPair)).toEqual(mockPaddedKeyPair);
        });
        it('accepts a padded key pair as argument', () => {
            const ecKeyPair = (0, crypto_1.asEcKeyPair)(mockPaddedKeyPair);
            (0, expect_1.default)((0, crypto_1.asSimpleKeyPair)(ecKeyPair)).toEqual(mockPaddedKeyPair);
        });
        it('accepts a private key as argument', () => {
            const ecKeyPair = (0, crypto_1.asEcKeyPair)(mockKeyPair.privateKey);
            (0, expect_1.default)((0, crypto_1.asSimpleKeyPair)(ecKeyPair)).toEqual(mockPaddedKeyPair);
        });
    });
    describe('asEcKeyPairPublic()', () => {
        it('gets a public key from an x-coordinate (even y)', () => {
            const ecKeyPair = (0, crypto_1.asEcKeyPairPublic)(mockKeyPair.publicKey, false);
            (0, expect_1.default)((0, crypto_1.asSimplePublicKey)(ecKeyPair.getPublic())).toEqual(mockPaddedKeyPair.publicKey);
        });
        it('gets a public key from an x-coordinate (odd y)', () => {
            const ecKeyPair = (0, crypto_1.asEcKeyPairPublic)(mockKeyPairEvenY.publicKey, true);
            (0, expect_1.default)((0, crypto_1.asSimplePublicKey)(ecKeyPair.getPublic())).toEqual(mockPaddedKeyPairEvenY.publicKey);
        });
    });
    describe('asSimpleKeyPair()', () => {
        it('throws if the elliptic curve key pair has no private key', () => {
            const ecKeyPair = (0, crypto_1.asEcKeyPairPublic)(mockKeyPair.publicKey, false);
            (0, expect_1.default)(() => (0, crypto_1.asSimpleKeyPair)(ecKeyPair)).toThrow('Key pair has no private key');
        });
    });
    describe('isValidPublicKey()', () => {
        it('returns true for valid x-coordinates', () => {
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('1')).toBe(true);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('A')).toBe(true);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('0800000000000000000000000000000000000000000000000000000000000000')).toBe(true);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)(mockKeyPair.publicKey)).toBe(true);
            // Okay with 0x prefix.
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)(`0x${mockKeyPair.publicKey}`)).toBe(true);
            // Repeat some number of times.
            for (let i = 0; i < 25; i++) {
                // Random key pair.
                (0, expect_1.default)((0, crypto_1.isValidPublicKey)((0, keys_1.generateKeyPairUnsafe)().publicKey)).toBe(true);
                // Key pair from fixed seed.
                (0, expect_1.default)((0, crypto_1.isValidPublicKey)((0, keys_1.keyPairFromData)(Buffer.from([i])).publicKey)).toBe(true);
            }
        });
        it('returns false for invalid x-coordinates', () => {
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('0')).toBe(false);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('C')).toBe(false);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('8000000000000000000000000000000000000000000000000000000000000001')).toBe(false);
            // Not a hex string.
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('asdf')).toBe(false);
            // Out of range.
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('8000000000000000000000000000000000000000000000000000000000000000')).toBe(false);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)('800000000000000000000000000000000000000000000000000000000000abcd')).toBe(false);
        });
        it('returns true for valid (x, y) pairs', () => {
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: mockKeyPair.publicKey,
                y: mockKeyPair.publicKeyYCoordinate,
            })).toBe(true);
            // Okay with 0x prefix.
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: `0x${mockKeyPair.publicKey}`,
                y: `0x${mockKeyPair.publicKeyYCoordinate}`,
            })).toBe(true);
            // The other valid y-coordinate. Note that this pair does not match mockKeyPair.privateKey.
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: mockKeyPair.publicKey,
                y: '7deeb691a173319e6cf514404817ea7f853402ffde0e8074c6bb5c12a0f93da',
            })).toBe(true);
            // Repeat some number of times.
            for (let i = 0; i < 25; i++) {
                // Random key pair.
                const randomKeyPair = (0, keys_1.generateKeyPairUnsafe)();
                (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                    x: randomKeyPair.publicKey,
                    y: randomKeyPair.publicKeyYCoordinate,
                })).toBe(true);
                // Key pair from fixed seed.
                const deterministicKeyPair = (0, keys_1.keyPairFromData)(Buffer.from([i]));
                (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                    x: deterministicKeyPair.publicKey,
                    y: deterministicKeyPair.publicKeyYCoordinate,
                })).toBe(true);
            }
        });
        it('returns false for invalid (x, y) pairs', () => {
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: (0, util_1.mutateHexStringAt)(mockKeyPair.publicKey, 0),
                y: mockKeyPair.publicKeyYCoordinate,
            })).toBe(false);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: (0, util_1.mutateHexStringAt)(mockKeyPair.publicKey, 62),
                y: mockKeyPair.publicKeyYCoordinate,
            })).toBe(false);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: mockKeyPair.publicKey,
                y: (0, util_1.mutateHexStringAt)(mockKeyPair.publicKeyYCoordinate, 0),
            })).toBe(false);
            (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                x: mockKeyPair.publicKey,
                y: (0, util_1.mutateHexStringAt)(mockKeyPair.publicKeyYCoordinate, 62),
            })).toBe(false);
            // Repeat some number of times.
            for (let i = 0; i < 25; i++) {
                // Random key pair.
                const randomKeyPair = (0, keys_1.generateKeyPairUnsafe)();
                (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                    x: (0, util_1.mutateHexStringAt)(randomKeyPair.publicKey, Math.floor(Math.random() * 62)),
                    y: randomKeyPair.publicKeyYCoordinate,
                })).toBe(false);
                (0, expect_1.default)((0, crypto_1.isValidPublicKey)({
                    x: randomKeyPair.publicKey,
                    y: (0, util_1.mutateHexStringAt)(randomKeyPair.publicKeyYCoordinate, Math.floor(Math.random() * 62)),
                })).toBe(false);
            }
        });
    });
    describe('serializeSignature()', () => {
        it('pads r', () => {
            const signatureStruct = {
                r: mockSignature.slice(1, 64),
                s: mockSignature.slice(64),
            };
            (0, expect_1.default)((0, crypto_1.serializeSignature)(signatureStruct)).toBe(mockSignature);
        });
        it('pads s', () => {
            const signatureStruct = {
                r: mockSignature.slice(0, 64),
                s: mockSignature.slice(65),
            };
            (0, expect_1.default)((0, crypto_1.serializeSignature)(signatureStruct)).toBe(mockSignature);
        });
    });
    describe('deserializeSignature()', () => {
        it('throws if the serialized signature has the wrong length', () => {
            (0, expect_1.default)(() => (0, crypto_1.deserializeSignature)(mockSignature.slice(1))).toThrow('Invalid serialized signature');
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3J5cHRvLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9fX3Rlc3RzX18vaGVscGVycy9jcnlwdG8udGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7Ozs7O0FBRUgsb0RBQTRCO0FBSTVCLHFCQUFxQjtBQUNyQixxREFRa0M7QUFDbEMseUNBQXdFO0FBQ3hFLGtDQUE0QztBQUU1QyxlQUFlO0FBQ2YsTUFBTSxXQUFXLEdBQTJCO0lBQzFDLFNBQVMsRUFBRSxpRUFBaUU7SUFDNUUsb0JBQW9CLEVBQUUsZ0VBQWdFO0lBQ3RGLFVBQVUsRUFBRSxpRUFBaUU7Q0FDOUUsQ0FBQztBQUNGLE1BQU0saUJBQWlCLEdBQTJCO0lBQ2hELFNBQVMsRUFBRSxJQUFJLFdBQVcsQ0FBQyxTQUFTLEVBQUU7SUFDdEMsb0JBQW9CLEVBQUUsS0FBSyxXQUFXLENBQUMsb0JBQW9CLEVBQUU7SUFDN0QsVUFBVSxFQUFFLElBQUksV0FBVyxDQUFDLFVBQVUsRUFBRTtDQUN6QyxDQUFDO0FBQ0YsTUFBTSxnQkFBZ0IsR0FBWTtJQUNoQyxTQUFTLEVBQUUsaUVBQWlFO0lBQzVFLFVBQVUsRUFBRSxpRUFBaUU7Q0FDOUUsQ0FBQztBQUNGLE1BQU0sc0JBQXNCLEdBQVk7SUFDdEMsU0FBUyxFQUFFLElBQUksZ0JBQWdCLENBQUMsU0FBUyxFQUFFO0lBQzNDLFVBQVUsRUFBRSxJQUFJLGdCQUFnQixDQUFDLFVBQVUsRUFBRTtDQUM5QyxDQUFDO0FBQ0YsTUFBTSxhQUFhLEdBQUcsQ0FDcEIsa0VBQWtFO0lBQ2xFLGtFQUFrRSxDQUNuRSxDQUFDO0FBRUYsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsRUFBRTtJQUU5QixRQUFRLENBQUMsZUFBZSxFQUFFLEdBQUcsRUFBRTtRQUU3QixFQUFFLENBQUMsMENBQTBDLEVBQUUsR0FBRyxFQUFFO1lBQ2xELE1BQU0sU0FBUyxHQUFHLElBQUEsb0JBQVcsRUFBQyxXQUFXLENBQUMs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