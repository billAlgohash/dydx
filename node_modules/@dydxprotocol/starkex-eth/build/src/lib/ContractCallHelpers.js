"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.uint256ToHumanTokenAmount = exports.uint256ToHumanCollateralTokenAmount = exports.uint256ToHumanEthAmount = exports.humanEthAmountToUint256 = exports.humanCollateralAmountToUint256 = exports.humanTokenAmountToUint256 = exports.bignumberableToUint256 = exports.starkKeyToUint256 = void 0;
const bignumber_js_1 = __importDefault(require("bignumber.js"));
const types_1 = require("../types");
// To-Contract Helpers
function starkKeyToUint256(starkKey) {
    return new bignumber_js_1.default(starkKey, 16).toFixed(0);
}
exports.starkKeyToUint256 = starkKeyToUint256;
function bignumberableToUint256(amount) {
    const result = new bignumber_js_1.default(amount);
    // Solidity only takes integers.
    if (!result.isInteger()) {
        throw new Error(`Amount cannot be used in contract call: ${result.toFixed()}`);
    }
    return result.toFixed(0);
}
exports.bignumberableToUint256 = bignumberableToUint256;
function humanTokenAmountToUint256(humanAmount, decimals) {
    return bignumberableToUint256(new bignumber_js_1.default(humanAmount).shiftedBy(decimals));
}
exports.humanTokenAmountToUint256 = humanTokenAmountToUint256;
function humanCollateralAmountToUint256(humanAmount) {
    return humanTokenAmountToUint256(humanAmount, types_1.BASE_DECIMALS);
}
exports.humanCollateralAmountToUint256 = humanCollateralAmountToUint256;
function humanEthAmountToUint256(humanAmount) {
    return humanTokenAmountToUint256(humanAmount, types_1.ETH_DECIMALS);
}
exports.humanEthAmountToUint256 = humanEthAmountToUint256;
// From-Contract Helpers
function uint256ToHumanEthAmount(output) {
    return uint256ToHumanTokenAmount(output, types_1.ETH_DECIMALS);
}
exports.uint256ToHumanEthAmount = uint256ToHumanEthAmount;
function uint256ToHumanCollateralTokenAmount(output) {
    return uint256ToHumanTokenAmount(output, types_1.BASE_DECIMALS);
}
exports.uint256ToHumanCollateralTokenAmount = uint256ToHumanCollateralTokenAmount;
function uint256ToHumanTokenAmount(output, decimals) {
    return new bignumber_js_1.default(output).shiftedBy(-decimals).toFixed();
}
exports.uint256ToHumanTokenAmount = uint256ToHumanTokenAmount;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udHJhY3RDYWxsSGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvQ29udHJhY3RDYWxsSGVscGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxnRUFBcUM7QUFFckMsb0NBSWtCO0FBRWxCLHNCQUFzQjtBQUV0QixTQUFnQixpQkFBaUIsQ0FDL0IsUUFBZ0I7SUFFaEIsT0FBTyxJQUFJLHNCQUFTLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBSkQsOENBSUM7QUFFRCxTQUFnQixzQkFBc0IsQ0FDcEMsTUFBcUI7SUFFckIsTUFBTSxNQUFNLEdBQUcsSUFBSSxzQkFBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRXJDLGdDQUFnQztJQUNoQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxFQUFFO1FBQ3ZCLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDaEY7SUFFRCxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0IsQ0FBQztBQVhELHdEQVdDO0FBRUQsU0FBZ0IseUJBQXlCLENBQ3ZDLFdBQTBCLEVBQzFCLFFBQWdCO0lBRWhCLE9BQU8sc0JBQXNCLENBQUMsSUFBSSxzQkFBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ2hGLENBQUM7QUFMRCw4REFLQztBQUVELFNBQWdCLDhCQUE4QixDQUM1QyxXQUEwQjtJQUUxQixPQUFPLHlCQUF5QixDQUFDLFdBQVcsRUFBRSxxQkFBYSxDQUFDLENBQUM7QUFDL0QsQ0FBQztBQUpELHdFQUlDO0FBRUQsU0FBZ0IsdUJBQXVCLENBQ3JDLFdBQTBCO0lBRTFCLE9BQU8seUJBQXlCLENBQUMsV0FBVyxFQUFFLG9CQUFZLENBQUMsQ0FBQztBQUM5RCxDQUFDO0FBSkQsMERBSUM7QUFFRCx3QkFBd0I7QUFFeEIsU0FBZ0IsdUJBQXVCLENBQ3JDLE1BQXFCO0lBRXJCLE9BQU8seUJBQXlCLENBQUMsTUFBTSxFQUFFLG9CQUFZLENBQUMsQ0FBQztBQUN6RCxDQUFDO0FBSkQsMERBSUM7QUFFRCxTQUFnQixtQ0FBbUMsQ0FDakQsTUFBcUI7SUFFckIsT0FBTyx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUscUJBQWEsQ0FBQyxDQUFDO0FBQzFELENBQUM7QUFKRCxrRkFJQztBQUVELFNBQWdCLHlCQUF5QixDQUN2QyxNQUFxQixFQUNyQixRQUFnQjtJQUVoQixPQUFPLElBQUksc0JBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUM5RCxDQUFDO0FBTEQsOERBS0MifQ==